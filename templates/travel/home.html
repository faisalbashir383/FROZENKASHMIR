{% extends 'travel/base.html' %}
{% load static %}

{% block title %}Kashmir Tour Packages 2026 | Best Kashmir Holiday Packages | Frozen Kashmir Tours{% endblock %}

{% block meta_description %}Book the best Kashmir tour packages for 2025. Explore Gulmarg, Pahalgam, Srinagar, Sonamarg
with Frozen Kashmir Tours. Honeymoon packages, family trips, adventure tours, houseboat stays, and skiing packages
available. Customized Kashmir holiday packages starting from ‚Çπ9,999.{% endblock %}

{% block meta_keywords %}Kashmir tour packages, Kashmir tourism, Gulmarg tour package, Pahalgam trip, Srinagar tour,
Sonamarg travel, Kashmir honeymoon package, Kashmir family tour, Kashmir adventure tour, best Kashmir tour operator,
Kashmir travel agency, Kashmir holiday package, book Kashmir tour, Kashmir trip package, Kashmir vacation, Kashmir group
tour, Kashmir solo travel, Kashmir couple package, Kashmir winter tour, Kashmir summer package, Kashmir spring tour,
Kashmir autumn trip, Kashmir houseboat stay, Dal Lake houseboat, Shikara ride Kashmir, Kashmir skiing package, Gulmarg
ski resort, Kashmir trekking tour, Kashmir hill station, Kashmir valley tour, Kashmir sightseeing package, Kashmir 3
days tour, Kashmir 5 days trip, Kashmir 7 days package, Kashmir weekend getaway, Kashmir budget tour, luxury Kashmir
tour, premium Kashmir package, customized Kashmir tour, tailor-made Kashmir trip, Kashmir travel deals, cheap Kashmir
packages, affordable Kashmir tour, Kashmir tour from Delhi, Kashmir tour from Mumbai, Kashmir tour from Bangalore,
Kashmir flight package, Kashmir IRCTC tour, Kashmir Amarnath yatra, Kashmir pilgrimage tour, Kashmir photography tour,
Kashmir nature trip, Kashmir wildlife tour, Kashmir bird watching, Kashmir garden tour, Mughal gardens Kashmir, Nishat
Bagh visit, Shalimar Bagh tour, Kashmir apple orchard tour, Kashmir saffron tour, Kashmir shawl shopping, Pashmina
Kashmir tour, Kashmir local experience, authentic Kashmir tour, Kashmir food tour, Wazwan cuisine tour, Kashmir culture
tour, Kashmir heritage tour, best time to visit Kashmir, Kashmir travel guide, Kashmir itinerary, Kashmir travel tips
{% endblock %}

{% block content %}
<!-- Hero Slider -->
<div class="swiper hero-slider">
    <div class="swiper-wrapper">
        {% for destination in destinations %}
        <!-- Dynamic slides based on destinations -->
        <div class="swiper-slide"
            style="background-image: linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.4)), url('{% if destination.slug == 'srinagar' %}https://images.unsplash.com/photo-1564329494258-3f72215ba175?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D{% elif destination.slug == 'gulmarg' %}https://images.unsplash.com/photo-1676441019594-07142b925bc2?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D{% elif destination.slug == 'pahalgam' %}https://images.unsplash.com/photo-1701957494338-95527b753a7f?q=80&w=1548&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D{% elif destination.slug == 'sonamarg' %}https://images.unsplash.com/photo-1643449415972-87d4cfe882a1?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D{% else %}https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=2000&auto=format&fit=crop{% endif %}');">
            <div class="hero-content">
                <h1>{{ destination.name }}</h1>
                <p>{{ destination.description|truncatewords:20 }}</p>
                <a href="{% url 'destination_detail' destination.slug %}" class="btn">Explore {{ destination.name }}</a>
            </div>
        </div>
        {% endfor %}
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
</div>

<!-- Search Section -->
<div class="search-container">
    <form action="{% url 'search' %}" method="GET" class="search-box">
        <input type="text" name="destination" placeholder="Where do you want to go? (e.g., Gulmarg)">
        <input type="date" name="date">
        <select name="travelers">
            <option value="">Travelers</option>
            <option value="1">1 Traveler</option>
            <option value="2">2 Travelers</option>
            <option value="3+">3+ Travelers</option>
        </select>
        <button type="submit" class="btn search-btn">Search</button>
    </form>
</div>

<!-- Experience Kashmir Section -->
<section class="section" style="padding-bottom: 2rem;">
    <div class="experience-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center;">
        <div>
            <h2 style="font-size: 2.5rem; color: var(--primary-color); margin-bottom: 1.5rem;">Experience the <br><span
                    style="color: var(--accent-color);">Real Kashmir</span></h2>
            <p style="margin-bottom: 1.5rem; font-size: 1.1rem; color: #555;">
                Kashmir is not just a place; it's a feeling. From the warm hospitality of the locals to the aromatic
                flavor of <strong>Kahwa</strong>, every moment here is a memory waiting to be made.
            </p>
            <p style="margin-bottom: 2rem; color: #555;">
                Whether you want to stay in a heritage <strong>Houseboat</strong> carved from cedar wood, trek to the
                glacial lakes, or simply watch the sunset over the Zabarwan range, we curate experiences that touch your
                soul.
            </p>
            <div style="display: flex; gap: 2rem;">
                <div>
                    <h4 style="font-size: 2rem; color: var(--primary-color);">10+</h4>
                    <p>Years Experience</p>
                </div>
                <div>
                    <h4 style="font-size: 2rem; color: var(--primary-color);">5k+</h4>
                    <p>Happy Travelers</p>
                </div>
                <div>
                    <h4 style="font-size: 2rem; color: var(--primary-color);">24/7</h4>
                    <p>Local Support</p>
                </div>
            </div>
        </div>
        <div style="position: relative;">
            <img src="https://images.unsplash.com/photo-1598091383021-15ddea10925d?q=80&w=1000&auto=format&fit=crop"
                alt="Kashmir Culture" style="width: 100%; border-radius: 20px; box-shadow: var(--shadow-lg);">
            <div
                style="position: absolute; bottom: -20px; right: -20px; background: white; padding: 1.5rem; border-radius: 10px; box-shadow: var(--shadow-md);">
                <p style="font-weight: 600; color: var(--primary-color);">"Gar firdaus bar-rue zamin ast,<br>hami asto,
                    hami asto, hami ast."</p>
                <small style="color: #888;">- Amir Khusro</small>
            </div>
        </div>
    </div>
</section>

<!-- Featured Packages -->
<section class="section" id="packages" style="background-color: #f8f9fa;">
    <h2 class="section-title">Handpicked Collections</h2>
    <div class="grid">
        {% for package in featured_packages %}
        <div class="card">
            <div class="card-img-wrapper">
                <span class="card-badge">{{ package.get_category_display }}</span>
                {% if package.image %}
                <img src="{{ package.image.url }}" alt="{{ package.title }}" class="card-img">
                {% else %}
                <div class="card-img"
                    style="background-color: #ddd; display: flex; align-items: center; justify-content: center;">No
                    Image</div>
                {% endif %}
            </div>
            <div class="card-content">
                <h3 class="card-title">{{ package.title }}</h3>
                <div class="card-meta">
                    <span>‚è± {{ package.duration }}</span>
                    <span>üìç {{ package.destination.name }}</span>
                </div>
                <p style="color: #666; margin-bottom: 1rem; font-size: 0.95rem;">{{ package.overview|truncatewords:15 }}
                </p>
                <div class="price-row">
                    <div class="price">
                        ‚Çπ{{ package.price }}
                        <small>/ person</small>
                    </div>
                    <a href="{% url 'package_detail' package.slug %}" class="btn-outline"
                        style="padding: 0.5rem 1.2rem; font-size: 0.9rem;">View Details</a>
                </div>
            </div>
        </div>
        {% empty %}
        <p>No featured packages available.</p>
        {% endfor %}
    </div>
</section>

<!-- Most Viewed Blogs -->
<section class="section">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h2 class="section-title" style="margin-bottom: 0;">Most Viewed Blogs</h2>
        <a href="{% url 'blog_list' %}" class="btn-outline">View All Blogs</a>
    </div>
    <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
        {% for blog in popular_blogs %}
        <div class="card">
            <div class="card-img-wrapper">
                <img src="{{ blog.featured_image }}" alt="{{ blog.title }}" class="card-img"
                    style="height: 200px; object-fit: cover;">
                {% if blog.category %}
                <span class="card-badge">{{ blog.category.name }}</span>
                {% endif %}
            </div>
            <div class="card-content">
                <h3 class="card-title" style="font-size: 1.2rem;">
                    <a href="{% url 'blog_detail' blog.slug %}"
                        style="color: var(--primary-color); text-decoration: none;">
                        {{ blog.title }}
                    </a>
                </h3>
                <div style="display: flex; gap: 1rem; color: #888; font-size: 0.85rem; margin-bottom: 0.75rem;">
                    <span>üìÖ {{ blog.created_at|date:"M d, Y" }}</span>
                    <span>üëÅ {{ blog.view_count }} views</span>
                </div>
                <p style="color: #666; margin-bottom: 1rem; font-size: 0.95rem;">{{ blog.excerpt|truncatewords:15 }}</p>
                <a href="{% url 'blog_detail' blog.slug %}" class="btn-outline"
                    style="padding: 0.5rem 1.2rem; font-size: 0.9rem;">Read More</a>
            </div>
        </div>
        {% empty %}
        <p>No blog posts available yet.</p>
        {% endfor %}
    </div>
</section>

<!-- Testimonials -->
<section class="section">
    <h2 class="section-title">Traveler Stories</h2>
    <div class="swiper testimonial-slider" style="padding-bottom: 3rem;">
        <div class="swiper-wrapper">
            {% for testimonial in testimonials %}
            <div class="swiper-slide">
                <div
                    style="background: white; padding: 2rem; border-radius: 10px; box-shadow: var(--shadow-sm); text-align: center;">
                    <img src="{{ testimonial.avatar_url }}" alt="{{ testimonial.name }}"
                        style="width: 80px; height: 80px; border-radius: 50%; margin-bottom: 1rem;">
                    <p style="font-style: italic; color: #555; margin-bottom: 1rem;">"{{ testimonial.testimonial }}"</p>
                    <h4 style="color: var(--primary-color);">{{ testimonial.name }}</h4>
                    <small>{{ testimonial.location }}</small>
                </div>
            </div>
            {% empty %}
            <div class="swiper-slide">
                <div
                    style="background: white; padding: 2rem; border-radius: 10px; box-shadow: var(--shadow-sm); text-align: center;">
                    <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="User"
                        style="width: 80px; height: 80px; border-radius: 50%; margin-bottom: 1rem;">
                    <p style="font-style: italic; color: #555; margin-bottom: 1rem;">"The houseboat stay was magical.
                        Frozen Kashmir team arranged everything perfectly. The Shikara ride at sunset is a must!"</p>
                    <h4 style="color: var(--primary-color);">Sarah Jenkins</h4>
                    <small>London, UK</small>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="swiper-pagination"></div>
    </div>
</section>

<!-- Newsletter Section - Redesigned -->
<section class="newsletter-section"
    style="position: relative; overflow: hidden; margin: 4rem 5%; border-radius: 30px; background: linear-gradient(135deg, #004d40 0%, #00695c 50%, #00897b 100%); padding: 0;">
    <!-- Decorative Background Elements -->
    <div
        style="position: absolute; top: -50px; right: -50px; width: 300px; height: 300px; background: rgba(255, 171, 0, 0.1); border-radius: 50%; filter: blur(60px);">
    </div>
    <div
        style="position: absolute; bottom: -80px; left: -80px; width: 400px; height: 400px; background: rgba(255, 255, 255, 0.05); border-radius: 50%; filter: blur(80px);">
    </div>

    <div
        style="position: relative; z-index: 2; display: grid; grid-template-columns: 1.2fr 1fr; gap: 3rem; align-items: center; padding: 5rem 4rem;">
        <!-- Left Content -->
        <div>
            <div
                style="display: inline-flex; align-items: center; gap: 0.5rem; background: rgba(255, 171, 0, 0.2); padding: 0.5rem 1.5rem; border-radius: 50px; margin-bottom: 1.5rem; backdrop-filter: blur(10px);">
                <span style="font-size: 1.2rem;">‚ú®</span>
                <span style="font-size: 0.9rem; font-weight: 600; color: var(--accent-color);">STAY CONNECTED</span>
            </div>

            <h2 style="font-size: 2.8rem; margin-bottom: 1rem; line-height: 1.2; color: white;">
                Never Miss a
                <span style="color: var(--accent-color); position: relative; display: inline-block;">
                    Journey
                    <svg style="position: absolute; bottom: -5px; left: 0; width: 100%;" viewBox="0 0 200 10"
                        xmlns="http://www.w3.org/2000/svg">
                        <path d="M0 7 Q50 0, 100 7 T200 7" stroke="var(--accent-color)" stroke-width="3" fill="none"
                            opacity="0.5" />
                    </svg>
                </span>
            </h2>

            <p
                style="font-size: 1.1rem; margin-bottom: 2.5rem; opacity: 0.95; line-height: 1.7; color: rgba(255,255,255,0.9);">
                Join our community of adventurers! Get exclusive Kashmir travel guides, insider tips, early-bird package
                deals, and seasonal recommendations delivered straight to your inbox.
            </p>

            <!-- Newsletter Form -->
            <form class="newsletter-form" style="position: relative; max-width: 520px;">
                <div
                    style="display: flex; gap: 0.8rem; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); padding: 0.6rem; border-radius: 60px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
                    <div style="flex: 1; display: flex; align-items: center; padding-left: 1rem; gap: 0.8rem;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#004d40" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                            </path>
                            <polyline points="22,6 12,13 2,6"></polyline>
                        </svg>
                        <input type="email" placeholder="Enter your email address" required
                            style="flex: 1; border: none; outline: none; background: transparent; font-size: 1rem; color: var(--text-color); font-family: var(--font-body);">
                    </div>
                    <button type="submit" class="btn"
                        style="background: linear-gradient(135deg, var(--accent-color), #ffc107); color: #000; font-weight: 700; padding: 1rem 2.5rem; box-shadow: 0 4px 15px rgba(255, 171, 0, 0.3); border: none; transition: all 0.3s ease;">
                        Subscribe
                        <span style="margin-left: 0.5rem;">‚Üí</span>
                    </button>
                </div>
                <p style="font-size: 0.85rem; margin-top: 1rem; opacity: 0.8; color: rgba(255,255,255,0.8);">
                    üîí We respect your privacy. Unsubscribe anytime.
                </p>
            </form>

            <!-- Stats/Trust Indicators -->
            <div style="display: flex; gap: 3rem; margin-top: 2.5rem;">
                <div>
                    <h4 style="font-size: 1.8rem; font-weight: 700; color: var(--accent-color); margin-bottom: 0.2rem;">
                        12K+</h4>
                    <p style="font-size: 0.9rem; opacity: 0.8;">Subscribers</p>
                </div>
                <div>
                    <h4 style="font-size: 1.8rem; font-weight: 700; color: var(--accent-color); margin-bottom: 0.2rem;">
                        Weekly</h4>
                    <p style="font-size: 0.9rem; opacity: 0.8;">Updates</p>
                </div>
                <div>
                    <h4 style="font-size: 1.8rem; font-weight: 700; color: var(--accent-color); margin-bottom: 0.2rem;">
                        100%</h4>
                    <p style="font-size: 0.9rem; opacity: 0.8;">Free</p>
                </div>
            </div>
        </div>

        <!-- Right Visual Element -->
        <div style="position: relative; display: flex; align-items: center; justify-content: center;">
            <!-- Card Stack Illustration -->
            <div style="position: relative; width: 100%; max-width: 400px;">
                <!-- Back Card -->
                <div
                    style="position: absolute; top: 20px; left: 20px; right: -20px; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 20px; padding: 2rem; border: 1px solid rgba(255,255,255,0.2); transform: rotate(6deg); height: 280px;">
                </div>

                <!-- Middle Card -->
                <div
                    style="position: absolute; top: 10px; left: 10px; right: -10px; background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); border-radius: 20px; padding: 2rem; border: 1px solid rgba(255,255,255,0.3); transform: rotate(3deg); height: 280px;">
                </div>

                <!-- Front Card -->
                <div
                    style="position: relative; background: rgba(255,255,255,0.95); backdrop-filter: blur(20px); border-radius: 20px; padding: 2.5rem; box-shadow: 0 20px 60px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.5);">
                    <div style="text-align: center;">
                        <!-- Email Icon -->
                        <div
                            style="width: 80px; height: 80px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); border-radius: 20px; display: flex; align-items: center; justify-content: center; box-shadow: 0 10px 30px rgba(0,77,64,0.3); transform: rotate(-5deg);">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                </path>
                                <polyline points="22,6 12,13 2,6"></polyline>
                            </svg>
                        </div>

                        <h3 style="color: var(--primary-color); font-size: 1.4rem; margin-bottom: 0.8rem;">Weekly Digest
                        </h3>
                        <p style="color: #666; font-size: 0.95rem; line-height: 1.6; margin-bottom: 1.2rem;">Curated
                            travel stories, destination guides & exclusive deals</p>

                        <!-- Sample Topics -->
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center;">
                            <span
                                style="background: rgba(0,77,64,0.1); color: var(--primary-color); padding: 0.4rem 1rem; border-radius: 50px; font-size: 0.8rem; font-weight: 600;">‚úàÔ∏è
                                Travel Tips</span>
                            <span
                                style="background: rgba(0,77,64,0.1); color: var(--primary-color); padding: 0.4rem 1rem; border-radius: 50px; font-size: 0.8rem; font-weight: 600;">üèîÔ∏è
                                Hidden Gems</span>
                            <span
                                style="background: rgba(0,77,64,0.1); color: var(--primary-color); padding: 0.4rem 1rem; border-radius: 50px; font-size: 0.8rem; font-weight: 600;">üí∞
                                Deals</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Newsletter Section Mobile Styles -->
<style>
    @media (max-width: 992px) {
        .newsletter-section>div {
            grid-template-columns: 1fr !important;
            padding: 3rem 2rem !important;
            gap: 2rem !important;
        }

        .newsletter-section h2 {
            font-size: 2.2rem !important;
        }

        .newsletter-section>div>div:last-child {
            display: none !important;
        }
    }

    @media (max-width: 768px) {
        .newsletter-section {
            margin: 2rem 5% !important;
            border-radius: 20px !important;
        }

        .newsletter-section>div {
            padding: 2.5rem 1.5rem !important;
        }

        .newsletter-section h2 {
            font-size: 1.8rem !important;
        }

        .newsletter-section p {
            font-size: 1rem !important;
        }

        .newsletter-form>div {
            flex-direction: column !important;
            gap: 1rem !important;
            padding: 1rem !important;
        }

        .newsletter-form button {
            width: 100% !important;
            padding: 1rem !important;
        }

        .newsletter-section>div>div:first-child>div:last-child {
            flex-direction: column !important;
            gap: 1.5rem !important;
        }
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    const heroSwiper = new Swiper('.hero-slider', {
        loop: true,
        effect: 'fade',
        speed: 1000,
        autoplay: {
            delay: 5000,
            disableOnInteraction: false,
        },
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
    });

    const testimonialSwiper = new Swiper('.testimonial-slider', {
        slidesPerView: 1,
        spaceBetween: 30,
        loop: true,
        autoplay: {
            delay: 4000,
        },
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        breakpoints: {
            768: {
                slidesPerView: 2,
            },
            1024: {
                slidesPerView: 3,
            },
        },
    });
</script>
{% endblock %}